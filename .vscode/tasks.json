{
	"version": "2.0.0",
	// "inputs": [
	// 	{
	// 	  "id": "launchTargetID",  // Definir el input para seleccionar la subcarpeta
	// 	  "type": "command",
	// 	  "command": "extension.commandvariable.pickStringRemember",  // Comando para mostrar las opciones
	// 	  "args": {
	// 		"description": "Selecciona la subcarpeta:",
	// 		"default": "microlab_ejemplo",  // Valor por defecto
	// 		"options": [
	// 		  "microlab_ejemplo"  // Las subcarpetas que el usuario puede elegir
	// 		]
	// 	  }
	// 	}
	//   ],
	"tasks": [
		//   {
		// 	"label": "Abrir DevContainer en subcarpeta",
		// 	"type": "shell",
		// 	"command": "code --remote devcontainer+${workspaceFolder}/projects1/${input:launchTargetID}#workspace=${workspaceFolder}/projects/${input:launchTargetID}",  // Usar el input para pasar el valor dinÃ¡mico
		// 	"group": "none",
		// 	"problemMatcher": [],
		// 	"detail": "Abre el devcontainer en una subcarpeta especÃ­fica."
		//   },
		//   {  
		// 	"label": "Abrir entorno MatrixMCU",
		// 	"type": "shell",
		// 	"command": "code",
		// 	"args": [
		// 		"--folder-uri",
		// 		"vscode-remote://dev-container+${workspaceFolder}"
		// 	],
		// 	"problemMatcher": [],
		// 	"detail": "Abre directamente el entorno MatrixMCU en DevContainer."
		//   },	 
		{
			"label": "Iniciar MICROLAB (Linux/Mac)",
			"type": "shell",
			"command": "bash",
			"args": [
				"${workspaceFolder}/setup/lab.sh"
			],
			"options": {
				"cwd": "${workspaceFolder}/setup"
			},
			"group": "build",
			"problemMatcher": [],
			"detail": "Inicia el entorno de MICROLAB y abre el navegador en Linux/Mac"
		},
		{
			"label": "Iniciar MICROLAB (Windows)",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}\\setup\\lab.ps1"
			],
			"options": {
				"cwd": "${workspaceFolder}\\setup"
			},
			"group": "build",
			"problemMatcher": [],
			"detail": "Inicia el entorno de MICROLAB y abre el navegador en Windows"
		},
		{
			"label": "Parar MICROLAB (Linux/Mac)",
			"type": "shell",
			"command": "cd ${workspaceFolder}/setup && docker-compose down", // Detiene el entorno del laboratorio
			"group": "build",
			"problemMatcher": [],
			"detail": "Detiene el entorno de MICROLAB."
		},
		{
			"label": "Parar MICROLAB (Windows)",
			"type": "shell",
			"command": "powershell",
			"args": [
				"-ExecutionPolicy",
				"Bypass",
				"-Command",
				"cd ${workspaceFolder}/setup; docker-compose down"
			],
			"group": "build",
			"problemMatcher": [],
			"detail": "Detiene el entorno de MICROLAB en Windows usando PowerShell."
		},
		{
			"label": "Parar dev-container MatrixMCU",
			"type": "shell",
			"command": "docker stop matrixmcu-dev", // Detiene el contenedor Docker
			"group": "none",
			"problemMatcher": [],
			"detail": "Detiene el contenedor Docker del devcontainer."
		},
		{
			"label": "Eliminar dev-container MatrixMCU",
			"type": "shell",
			"command": "docker rm matrixmcu-dev", // Elimina el contenedor Docker
			"group": "none",
			"problemMatcher": [],
			"detail": "Detiene el contenedor Docker del devcontainer."
		},
		{
			"label": "Build MatrixMCU Environment (Windows-PowerShell)",
			"type": "shell",
			"command": "powershell.exe",
			"args": [
				"-ExecutionPolicy",
				"Bypass",
				"-File",
				"${workspaceFolder}\\setup\\build_env.ps1"
			],
			"problemMatcher": [],
			"group": {
				"kind": "build",
				"isDefault": false
			},
			"options": {
				"cwd": "${workspaceFolder}\\setup"
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "shared"
			},
			"detail": "ðŸš§ SOLO NECESARIO LA PRIMERA VEZ. Construye la imagen personalizada de MatrixMCU para Windows y descarga las imÃ¡genes necesarias del laboratorio."
		},
		{
			"label": "Build MatrixMCU Environment (Linux/macOS)",
			"type": "shell",
			"command": "bash -c ./build_env.sh",
			"problemMatcher": [],
			"group": {
				"kind": "build",
				"isDefault": false
			},
			"options": {
				"cwd": "${workspaceFolder}/setup"
			},
			"presentation": {
				"echo": true,
				"reveal": "always",
				"focus": false,
				"panel": "shared"
			},
			"detail": "ðŸš§ SOLO NECESARIO LA PRIMERA VEZ. Construye la imagen personalizada de MatrixMCU para Linux/macOS y descarga las imÃ¡genes necesarias del laboratorio."
		},
		{
			"label": "Run OpenOCD",
			"type": "shell",
			"command": "openocd -f interface/stlink.cfg -f target/stm32f4x.cfg",
			"isBackground": true,
			"problemMatcher": {
			  "owner": "cortex-debug",
			  "pattern": [
				{ "regexp": ".+" }
			  ],
			  "background": {
				"activeOnStart": true,
				"beginsPattern": "Info :",
				"endsPattern": "listening on port"
			  }
			}
		}
	]
}
