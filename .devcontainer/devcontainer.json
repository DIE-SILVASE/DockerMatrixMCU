{
  "name": "MatrixMCU DevContainer",
  "image": "matrixmcu-env",
  //para ponerme un nombre
  "runArgs": [
    "--name", "matrixmcu-dev"
  ],
  "remoteUser": "root",
  "workspaceFolder": "/workspace",
  "customizations": {
    "vscode": {
      "extensions": [
        "ms-vscode.cpptools",
        "ms-azuretools.vscode-docker",
        "twxs.cmake",
        "rioj7.command-variable",
        "marus25.cortex-debug",
        "matepek.vscode-catch2-test-adapter",
        "ms-vscode.cpptools-themes",
        "marus25.rtos-views",
        "marus25.peripheral-viewer",
        "marus25.memory-viewer",
        "cschlosser.doxdocgen",
        "vscode-icons-team.vscode-icons",
        "ms-vscode.hexeditor",
        "gruntfuggly.todo-tree"
      ],
      "settings": {
        "terminal.integrated.defaultProfile.linux": "bash",
        "terminal.integrated.shellArgs.linux": ["--login"]
      }
    }
  },
  "mounts": [
    "source=${localWorkspaceFolder}/projects1,target=/workspace/projects,type=bind,consistency=cached"
  ],
  "remoteEnv": {
    "PATH": "${containerEnv:PATH}:/workspace/qemu_new/build"
  },
  "postCreateCommand":   "bash /workspace/projects/post-create.sh",
  //"postStartCommand":  "bash -c 'echo export MATRIXMCU=$(cat /tmp/matrixmcu_path) >> ~/.bashrc'"
   "postStartCommand": "bash -c 'echo export MATRIXMCU=$(cat /tmp/matrixmcu_path) >> ~/.bashrc && if [ -f /workspaces/MatrixMCU/projects/.ip_host_openocd ]; then echo export OPENOCD_HOST_IP=$(cat /workspaces/MatrixMCU/projects/.ip_host_openocd) >> ~/.bashrc; fi'" // Cambia la ruta a la carpeta de tu proyecto y si es linux a√±ade la variable de entorno OPENOCD_HOST_IP
}
